webpackJsonp([4],{"35/Y":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("sODj");function n(t,i){if(!function(t,i){return new RegExp("(^|\\s)"+i+"(\\s|$)").test(t.className)}(t,i)){var e=t.className.split(" ");e.push(i),t.className=e.join(" ")}}var a=e("qdB1"),l={name:"slide",props:{loop:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!0},interval:{type:Number,default:4e3},showDot:{type:Boolean,default:!0},click:{type:Boolean,default:!0},threshold:{type:Number,default:.3},speed:{type:Number,default:400}},data:function(){return{dots:[],currentPageIndex:0}},mounted:function(){var t=this;setTimeout(function(){t.update()},200),window.addEventListener("resize",function(){t.slide&&t.slide.enabled&&(clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){t.slide.isInTransition?t._onScrollEnd():t.autoPlay&&t._play(),t.refresh()},60))})},activated:function(){if(this.slide){this.slide.enable();var t=this.slide.getCurrentPage().pageX;this.slide.goToPage(t,0,0),this.currentPageIndex=t,this.autoPlay&&this._play()}},deactivated:function(){this.slide.disable(),clearTimeout(this.timer)},beforeDestroy:function(){this.slide.disable(),clearTimeout(this.timer)},methods:{update:function(){var t=this;this.slide&&this.slide.destroy(),this.$nextTick(function(){t.init()})},refresh:function(){this._setSlideWidth(!0),this.slide.refresh()},prev:function(){this.slide.prev()},next:function(){this.slide.next()},init:function(){clearTimeout(this.timer),this.currentPageIndex=0,this._setSlideWidth(),this.showDot&&this._initDots(),this._initSlide(),this.autoPlay&&this._play()},_setSlideWidth:function(t){this.children=this.$refs.slideGroup.children;for(var i=0,e=this.$refs.slide.clientWidth,s=0;s<this.children.length;s++){var a=this.children[s];n(a,"slide-item"),a.style.width=e+"px",i+=e}this.loop&&!t&&(i+=2*e),this.$refs.slideGroup.style.width=i+"px"},_initSlide:function(){var t=this;this.slide=new a.a(this.$refs.slide,{scrollX:!0,scrollY:!1,momentum:!1,snap:{loop:this.loop,threshold:this.threshold,speed:this.speed},bounce:!1,stopPropagation:!0,click:this.click}),this.slide.on("scrollEnd",this._onScrollEnd),this.slide.on("touchEnd",function(){t.autoPlay&&t._play()}),this.slide.on("beforeScrollStart",function(){t.autoPlay&&clearTimeout(t.timer)})},_onScrollEnd:function(){var t=this.slide.getCurrentPage().pageX;this.currentPageIndex=t,this.autoPlay&&this._play()},_initDots:function(){this.dots=new Array(this.children.length)},_play:function(){var t=this;clearTimeout(this.timer),this.timer=setTimeout(function(){t.slide.next()},this.interval)}},watch:{loop:function(){this.update()},autoPlay:function(){this.update()},speed:function(){this.update()},threshold:function(){this.update()}}},o={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"slide",staticClass:"slide"},[e("div",{ref:"slideGroup",staticClass:"slide-group"},[t._t("default")],2),t._v(" "),t.showDot?e("div",{staticClass:"dots"},t._l(t.dots,function(i,s){return e("span",{key:s,staticClass:"dot",class:{active:t.currentPageIndex===s}})})):t._e()])},staticRenderFns:[]};var r=e("VU/8")(l,o,!1,function(t){e("Lqur")},null,null).exports,d=e("viA7"),c=e("Jyc2"),h=e.n(c),u={name:"banner",data:function(){return{banners:[],speed:400,pic:h.a}},created:function(){this._getBanner()},methods:{_getBanner:function(){var t=this;Object(d.g)(5).then(function(i){t.banners=i,t.speed=450})},selectItem:function(t){this.$emit("select",t)}},components:{Slider:r}},f={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"banner"},[e("div",{staticClass:"banner-container"},[e("slider",{attrs:{speed:t.speed}},t._l(t.banners,function(i,s){return e("div",{key:s,on:{click:function(e){t.selectItem(i)}}},[e("a",[e("img",{attrs:{src:void 0==i.cover?t.pic:i.cover}})])])}))],1)])},staticRenderFns:[]};var p=e("VU/8")(u,f,!1,function(t){e("ddCd")},"data-v-63364fab",null).exports,m=e("qwAB"),v=e("y/jF"),g=e("6ROu"),_=e.n(g),y={mixins:[e("F4+m").b],data:function(){return{skip:0,listType:0,limit:10,nodata:!1,isFinish:!0,isloading:!1,hideLoading:0,listViewShow:!1,listData:[]}},created:function(){this.listenScroll=!1,this.pullup=!0,this.isBeforeScroll=!0,this._initData()},methods:{scrollToEnd:function(){if(!this.nodata&&this.isFinish)return this.isFinish=!1,void(this.skip+=10);this.hideLoading+=1},setNodata:function(){this.nodata=!0},finishLoad:function(){this.isFinish=!0,this.refresh()},beforeScrollLoading:function(){this.listData.length<this.limit||(this.isloading=!this.isloading)},refresh:function(){this.$refs.headlineScroll.refresh()},_initData:function(){var t=this,i={type:this.listType,limit:this.limit,skip:this.skip};Object(d.e)(i).then(function(i){var e=[];i.forEach(function(t){var i={};i._id=t._id,i.cover=t.cover,i.title=t.title,i.type=t.type,i.goto=t.goto,i.create_time=_()(t.create_time).format("YYYY-MM-DD"),e.push(i)}),t.listData=e,setTimeout(function(){t.refresh()},40)})}},components:{Listview:s.a,Banner:p,Scroll:m.a,Loading:v.a}},b={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"headline"},[e("scroll",{ref:"headlineScroll",staticClass:"headline-content",attrs:{listenScroll:t.listenScroll,beforeScroll:t.isBeforeScroll,pullup:t.pullup},on:{scrollToEnd:t.scrollToEnd,beforeScroll:t.beforeScrollLoading}},[e("div",[e("banner",{on:{select:t.slectItem}}),t._v(" "),0!=t.listData.length?e("listview",{attrs:{listType:t.listType,hideLoading:t.hideLoading,skip:t.skip,limit:t.limit,isloading:t.isloading,initData:t.listData},on:{select:t.slectItem,nodata:t.setNodata,finishLoad:t.finishLoad}}):t._e()],1)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.listData.length,expression:"!listData.length"}],staticClass:"loading-container"},[e("loading")],1)],1)},staticRenderFns:[]};var S=e("VU/8")(y,b,!1,function(t){e("V5bU")},"data-v-6a59acbc",null);i.default=S.exports},Lqur:function(t,i){},V5bU:function(t,i){},ddCd:function(t,i){}});