webpackJsonp([6],{"/EfR":function(t,e,l){"use strict";e.a=function(t){return s.a.post("/api/skin",t).then(function(t){return a.a.resolve(t.data)})},e.d=function(t){return s.a.put("/api/skin",t).then(function(t){return a.a.resolve(t.data)})},e.b=function(t){var e="/api/skin/"+t;return s.a.delete(e).then(function(t){return a.a.resolve(t.data)})},e.c=function(){return s.a.get("/skin").then(function(t){return a.a.resolve(t.data)})};var i=l("//Fk"),a=l.n(i),o=l("aozt"),s=l.n(o)},"Fi/+":function(t,e){},JWnJ:function(t,e){},oVEd:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l("/EfR"),a=l("F4+m"),o={mixins:[a.a],data:function(){return{form:{property:0}}},mounted:function(){this.checkToken()},methods:{onSubmit:function(){var t=this;this.form.token=this.token,console.log(this.form),Object(i.a)(this.form).then(function(e){console.log(e),t.$message("添加成功！"),t.form={}})}}},s={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"count"},[l("div",{staticClass:"head"},[t._v("皮肤添加")]),t._v(" "),l("div",{staticClass:"content"},[l("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini"}},[l("el-form-item",{attrs:{label:"名称"}},[l("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"排序"}},[l("el-input",{model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",t._n(e))},expression:"form.sort"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"技能描述"}},[l("el-input",{model:{value:t.form.jn,callback:function(e){t.$set(t.form,"jn",e)},expression:"form.jn"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"40%",display:"inline-block"},attrs:{label:"部件衣服"}},[l("el-switch",{model:{value:t.form.hasPart,callback:function(e){t.$set(t.form,"hasPart",e)},expression:"form.hasPart"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"40%",display:"inline-block"},attrs:{label:"部件"}},[l("el-switch",{model:{value:t.form.isPart,callback:function(e){t.$set(t.form,"isPart",e)},expression:"form.isPart"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"23%",display:"inline-block"},attrs:{label:"体","label-width":"40px"}},[l("el-switch",{model:{value:t.form.tl,callback:function(e){t.$set(t.form,"tl",e)},expression:"form.tl"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"23%",display:"inline-block"},attrs:{label:"攻","label-width":"40px"}},[l("el-switch",{model:{value:t.form.gj,callback:function(e){t.$set(t.form,"gj",e)},expression:"form.gj"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"23%",display:"inline-block"},attrs:{label:"灵","label-width":"40px"}},[l("el-switch",{model:{value:t.form.ll,callback:function(e){t.$set(t.form,"ll",e)},expression:"form.ll"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"23%",display:"inline-block"},attrs:{label:"防","label-width":"40px"}},[l("el-switch",{model:{value:t.form.fy,callback:function(e){t.$set(t.form,"fy",e)},expression:"form.fy"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"30%",display:"inline-block"},attrs:{label:"暴击"}},[l("el-switch",{model:{value:t.form.bj,callback:function(e){t.$set(t.form,"bj",e)},expression:"form.bj"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"50%",display:"inline-block"},attrs:{label:"法爆"}},[l("el-switch",{model:{value:t.form.fb,callback:function(e){t.$set(t.form,"fb",e)},expression:"form.fb"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"30%",display:"inline-block"},attrs:{label:"闪避"}},[l("el-switch",{model:{value:t.form.sb,callback:function(e){t.$set(t.form,"sb",e)},expression:"form.sb"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"30%",display:"inline-block"},attrs:{label:"化解"}},[l("el-switch",{model:{value:t.form.hj,callback:function(e){t.$set(t.form,"hj",e)},expression:"form.hj"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"30%",display:"inline-block"},attrs:{label:"反击"}},[l("el-switch",{model:{value:t.form.fj,callback:function(e){t.$set(t.form,"fj",e)},expression:"form.fj"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"40%",display:"inline-block"},attrs:{label:"暴击加伤"}},[l("el-switch",{model:{value:t.form.bjjs,callback:function(e){t.$set(t.form,"bjjs",e)},expression:"form.bjjs"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"40%",display:"inline-block"},attrs:{label:"法爆加伤"}},[l("el-switch",{model:{value:t.form.fbjs,callback:function(e){t.$set(t.form,"fbjs",e)},expression:"form.fbjs"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"40%",display:"inline-block"},attrs:{label:"闪避回血"}},[l("el-switch",{model:{value:t.form.sbhx,callback:function(e){t.$set(t.form,"sbhx",e)},expression:"form.sbhx"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"40%",display:"inline-block"},attrs:{label:"化解回血"}},[l("el-switch",{model:{value:t.form.hjhx,callback:function(e){t.$set(t.form,"hjhx",e)},expression:"form.hjhx"}})],1),t._v(" "),l("el-form-item",{staticStyle:{width:"40%",display:"inline-block"},attrs:{label:"反击加伤"}},[l("el-switch",{model:{value:t.form.fjjs,callback:function(e){t.$set(t.form,"fjjs",e)},expression:"form.fjjs"}})],1),t._v(" "),l("el-radio-group",{attrs:{size:"medium"},model:{value:t.form.property,callback:function(e){t.$set(t.form,"property",e)},expression:"form.property"}},[l("el-radio-button",{attrs:{label:0}},[t._v("水")]),t._v(" "),l("el-radio-button",{attrs:{label:1}},[t._v("火")]),t._v(" "),l("el-radio-button",{attrs:{label:2}},[t._v("雷")]),t._v(" "),l("el-radio-button",{attrs:{label:3}},[t._v("风")]),t._v(" "),l("el-radio-button",{attrs:{label:4}},[t._v("土")]),t._v(" "),l("el-radio-button",{attrs:{label:5}},[t._v("武")])],1),t._v(" "),l("el-form-item",[l("el-button",{staticClass:"sumbmit",attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("立即创建")])],1)],1)],1)])},staticRenderFns:[]};var n=l("VU/8")(o,s,!1,function(t){l("JWnJ")},"data-v-bb8dcc36",null).exports,r=l("qwAB"),c={mixins:[a.a],data:function(){var t=this;return{data:[],udata:{},isAdd:!0,titles:[{prop:"name",label:"衣服"},{prop:"sort",label:"序"}],isOpenAdd:!1,filters:[{prop:"title",value:""}],actionCol:{props:{label:"操作"},buttons:[{handler:function(e){t.update(e)},label:"编辑"},{handler:function(e){t.delete(e)},label:"删除"}]},selectedRow:[]}},created:function(){this._getSkinList()},mounted:function(){this.checkToken()},methods:{_getSkinList:function(){var t=this,e={token:this.token};Object(i.c)(e).then(function(e){t.data=e})},openAdd:function(){this.isOpenAdd=!0,this.udata={},this.isAdd=!0},submit:function(t){var e=this;this.isAdd?(t.token=this.token,Object(i.a)(t).then(function(l){console.log(l),e.isOpenAdd=!1,e.$message("添加成功！"),e.data.unshift(t)})):(console.log(t),t.token=this.token,Object(i.d)(t).then(function(t){console.log(t),t.ok?(e.isOpenAdd=!1,e.$message("修改成功！")):e.$message("修改失败！")}))},quit:function(){this.isOpenAdd=!1},delete:function(t){var e=this,l={id:t._id,token:this.token};Object(i.b)(l).then(function(l){l.ok&&(e.data.splice(e.data.indexOf(t),1),e.$message("删除成功！"))})},update:function(t){this.isOpenAdd=!0,this.isAdd=!1,this.udata=t},width:function(t){if("name"!==t)return 60},handleSelectionChange:function(t){this.selectedRow=t}},components:{SkinAdd:n,Scroll:r.a}},f={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{ref:"skin",staticClass:"skin"},[l("div",[l("div",{staticClass:"skin-head"},[t._v("皮肤管理")]),t._v(" "),l("div",{staticStyle:{margin:"10px 0"}},[l("el-row",[l("el-col",{staticStyle:{margin:"0 10px"},attrs:{span:8}},[l("el-input",{attrs:{placeholder:"搜索"},model:{value:t.filters[0].value,callback:function(e){t.$set(t.filters[0],"value",e)},expression:"filters[0].value"}})],1),t._v(" "),l("el-col",{staticStyle:{margin:"0 15px"},attrs:{span:5}},[l("el-button",{on:{click:t.openAdd}},[t._v("添加")])],1)],1)],1),t._v(" "),l("data-tables",{staticClass:"data-table",staticStyle:{width:"100%"},attrs:{data:t.data,"current-page":3,"page-size":5,"pagination-props":{background:!1,small:!0,layout:"prev, pager, next",pageSizes:[6,1,3]},"action-col":t.actionCol,filters:t.filters},on:{"selection-change":t.handleSelectionChange}},t._l(t.titles,function(e){return l("el-table-column",{key:e.prop,attrs:{prop:e.prop,label:e.label,sortable:"custom",width:t.width(e.prop)}})})),t._v(" "),t.isOpenAdd?l("skin-add",{attrs:{udata:t.udata},on:{quit:t.quit,submit:t.submit}}):t._e()],1)])},staticRenderFns:[]};var m=l("VU/8")(c,f,!1,function(t){l("Fi/+")},"data-v-25edb49e",null);e.default=m.exports}});