webpackJsonp([15],{"g+br":function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=r("Dd8w"),a=r.n(t),o=r("JBuz"),n=r("//Fk"),u=r.n(n),l=r("aozt"),c=r.n(l);var i=r("9rMa"),p={data:function(){var e=this;return{user:{pass:"",checkPass:"",name:""},rules2:{pass:[{validator:function(s,r,t){""===r?t(new Error("请输入密码")):(""!==e.user.checkPass&&e.$refs.user.validateField("checkPass"),t())},trigger:"blur"}],checkPass:[{validator:function(s,r,t){""===r?t(new Error("请再次输入密码")):r!==e.user.pass?t(new Error("两次输入密码不一致!")):t()},trigger:"blur"}],user:[{validator:function(e,s,r){""===s?r(new Error("请输入用户名")):r()},trigger:"blur"}]},head:{title:"登录"}}},methods:a()({submitForm:function(e){var s=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r,t={name:s.user.name,password:s.user.pass};(r=t,c.a.post("/authenticate",r).then(function(e){return u.a.resolve(e.data)})).then(function(e){e.success?(console.log(e),s.$message("登录成功！"),s.saveToken(e.token),s.$router.push({path:"/admin"})):s.$message("帐号或密码错误")})})},resetForm:function(e){this.$refs[e].resetFields()}},Object(i.b)(["saveToken"])),components:{HeadBox:o.a}},f={render:function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"login"},[r("head-box",{staticClass:"head-box",attrs:{data:e.head}}),e._v(" "),r("el-form",{ref:"user",staticClass:"ruleForm",attrs:{model:e.user,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"用户",prop:"user"}},[r("el-input",{model:{value:e.user.name,callback:function(s){e.$set(e.user,"name",s)},expression:"user.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"pass"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.user.pass,callback:function(s){e.$set(e.user,"pass",s)},expression:"user.pass"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.user.checkPass,callback:function(s){e.$set(e.user,"checkPass",s)},expression:"user.checkPass"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(s){e.submitForm("user")}}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:function(s){e.resetForm("user")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var m=r("VU/8")(p,f,!1,function(e){r("pEMV")},"data-v-429d7f82",null);s.default=m.exports},pEMV:function(e,s){}});